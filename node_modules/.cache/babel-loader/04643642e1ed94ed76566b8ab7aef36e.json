{"ast":null,"code":"import _defineProperty from\"C:/Users/Usuario/Desktop/message/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:/Users/Usuario/Desktop/message/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import Form from'react-bootstrap/Form';import Button from'@material-ui/core/Button';import{db}from'../FirebaseDb.js';import firebase from\"firebase\";import{useParams}from\"react-router-dom\";import InputBase from'@material-ui/core/InputBase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WriteMessage=function WriteMessage(props){var user=firebase.auth().currentUser;var name,email,photo,uid,emailVerified;name=user.displayName;email=user.email;photo=user.photoURL;emailVerified=user.emailVerified;uid=user.uid;var _useParams=useParams(),roomId=_useParams.roomId;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var sendMessage=function sendMessage(e){e.preventDefault();db.collection('rooms').doc(roomId).collection(\"message\").add({message:input,name:props.profileName,userId:email,myPic:props.profilePic,timestamp:firebase.firestore.FieldValue.serverTimestamp()});console.log(\"escribiste\",input);setInput(\"\");};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(InputBase,_defineProperty({placeholder:\"Write your message\",inputProps:{'aria-label':'Write your message'},value:input,onChange:function onChange(e){return setInput(e.target.value);},style:{}},\"style\",{marginLeft:'20px',width:'100%'})),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",onClick:sendMessage,children:\"Enviar\"})]})})});};export default WriteMessage;","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/message/src/components/writeMessage.jsx"],"names":["React","Fragment","useState","useEffect","Form","Button","db","firebase","useParams","InputBase","WriteMessage","props","user","auth","currentUser","name","email","photo","uid","emailVerified","displayName","photoURL","roomId","input","setInput","sendMessage","e","preventDefault","collection","doc","add","message","profileName","userId","myPic","profilePic","timestamp","firestore","FieldValue","serverTimestamp","console","log","display","flexDirection","alignItems","justifyContent","target","value","marginLeft","width"],"mappings":"gTAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,KAAqD,OAArD,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAAQC,EAAR,KAAiB,kBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,C,wFAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAU,CAG3B,GAAIC,CAAAA,IAAI,CAAGL,QAAQ,CAACM,IAAT,GAAgBC,WAA3B,CACA,GAAIC,CAAAA,IAAJ,CAAUC,KAAV,CAAiBC,KAAjB,CAAwBC,GAAxB,CAA6BC,aAA7B,CAEAJ,IAAI,CAAGH,IAAI,CAACQ,WAAZ,CACAJ,KAAK,CAAGJ,IAAI,CAACI,KAAb,CACAC,KAAK,CAAGL,IAAI,CAACS,QAAb,CACAF,aAAa,CAAGP,IAAI,CAACO,aAArB,CACAD,GAAG,CAAGN,IAAI,CAACM,GAAX,CAV2B,eAcfV,SAAS,EAdM,CAcxBc,MAdwB,YAcxBA,MAdwB,eAkBKpB,QAAQ,CAAC,EAAD,CAlBb,wCAkBZqB,KAlBY,eAkBLC,QAlBK,eAwBvB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GAGArB,EAAE,CAACsB,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BP,MAA3B,EAAmCM,UAAnC,CAA8C,SAA9C,EAAyDE,GAAzD,CAA6D,CAC1DC,OAAO,CAACR,KADkD,CAE1DR,IAAI,CAACJ,KAAK,CAACqB,WAF+C,CAG1DC,MAAM,CAACjB,KAHmD,CAI1DkB,KAAK,CAACvB,KAAK,CAACwB,UAJ8C,CAK1DC,SAAS,CAAC7B,QAAQ,CAAC8B,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EALgD,CAA7D,EAQAC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BlB,KAA1B,EACAC,QAAQ,CAAC,EAAD,CAAR,CACC,CAdN,CAqBY,mBAEA,KAAC,QAAD,wBAGI,KAAC,IAAD,wBAEI,aAAK,KAAK,CAAE,CAACkB,OAAO,CAAC,MAAT,CAAiBC,aAAa,CAAC,KAA/B,CAAsCC,UAAU,CAAC,QAAjD,CAA2DC,cAAc,CAAC,eAA1E,CAAZ,wBAEA,KAAC,SAAD,kBACI,WAAW,CAAC,oBADhB,CAEI,UAAU,CAAE,CAAE,aAAc,oBAAhB,CAFhB,CAGI,KAAK,CAAEtB,KAHX,CAGkB,QAAQ,CAAE,kBAAAG,CAAC,QAAEF,CAAAA,QAAQ,CAACE,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAV,EAH7B,CAGyD,KAAK,CAAE,EAHhE,UAIW,CAACC,UAAU,CAAC,MAAZ,CAAoBC,KAAK,CAAC,MAA1B,CAJX,EAFA,cAUI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAC,WAA9B,CAA0C,KAAK,CAAC,SAAhD,CAA0D,OAAO,CAAExB,WAAnE,oBAVJ,GAFJ,EAHJ,EAFA,CAiCC,CA9ErB,CAgFA,cAAef,CAAAA,YAAf","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from '@material-ui/core/Button';\r\nimport {db} from '../FirebaseDb.js';\r\nimport firebase from \"firebase\";\r\nimport {useParams} from \"react-router-dom\"\r\nimport InputBase from '@material-ui/core/InputBase';\r\n\r\n\r\n\r\nconst WriteMessage = (props) =>{\r\n\r\n\r\n    var user = firebase.auth().currentUser;\r\n    var name, email, photo, uid, emailVerified;\r\n\r\n    name = user.displayName;\r\n    email = user.email;\r\n    photo = user.photoURL;\r\n    emailVerified = user.emailVerified;\r\n    uid = user.uid;\r\n\r\n\r\n\r\nconst {roomId} =useParams();\r\n\r\n\r\n\r\n            const [input, setInput]=useState(\"\");\r\n\r\n            \r\n\r\n\r\n\r\n        const sendMessage = (e) => {\r\n             e.preventDefault();\r\n              \r\n\r\n             db.collection('rooms').doc(roomId).collection(\"message\").add({\r\n                message:input,\r\n                name:props.profileName, \r\n                userId:email,\r\n                myPic:props.profilePic,\r\n                timestamp:firebase.firestore.FieldValue.serverTimestamp(),\r\n\r\n             });\r\n             console.log(\"escribiste\", input);\r\n             setInput(\"\");\r\n             };\r\n\r\n\r\n                  \r\n\r\n\r\n\r\n                    return(\r\n\r\n                    <Fragment>\r\n\r\n\r\n                        <Form >\r\n\r\n                            <div style={{display:'flex', flexDirection:'row', alignItems:'center', justifyContent:'space-between'}} >\r\n\r\n                            <InputBase\r\n                                placeholder=\"Write your message\"\r\n                                inputProps={{ 'aria-label': 'Write your message' }}\r\n                                value={input} onChange={e=>setInput(e.target.value)} style={{}} \r\n                                style={{marginLeft:'20px', width:'100%'}}\r\n                                />\r\n                                \r\n\r\n                                <Button type=\"submit\" variant=\"contained\" color=\"primary\" onClick={sendMessage} >\r\n                                    Enviar\r\n                                </Button>\r\n\r\n                            </div>\r\n\r\n                        \r\n                            \r\n                        </Form>    \r\n                            \r\n\r\n                        \r\n                    </Fragment>\r\n                    \r\n\r\n                    );\r\n                    }\r\n\r\nexport default WriteMessage;"]},"metadata":{},"sourceType":"module"}