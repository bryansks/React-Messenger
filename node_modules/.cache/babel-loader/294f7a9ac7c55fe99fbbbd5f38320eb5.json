{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\message\\\\src\\\\components\\\\chatWindow.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport firebase from \"firebase\";\nimport { db } from '../FirebaseDb.js';\nimport { storage } from '../FirebaseDb';\nimport SidebarConversations from './sidebarConversations';\nimport Conversation from './conversation';\nimport WriteMessage from './writeMessage.jsx';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Form from 'react-bootstrap/Form';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Modal from '@material-ui/core/Modal';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport AddIcon from '@material-ui/icons/Add';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CurrentRoom from './currentRoom.jsx';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatWindow = () => {\n  _s();\n\n  var user = firebase.auth().currentUser;\n  var name, email, photo, uid, emailVerified;\n  name = user.displayName;\n  email = user.email;\n  photo = user.photoURL;\n  emailVerified = user.emailVerified;\n  uid = user.uid;\n  const [input, setInput] = useState(\"\");\n  const [inputR, setInputR] = useState(\"\");\n  const [rooms, setRooms] = useState([]);\n  useEffect(() => {\n    const unsubscribe = db.collection('rooms').onSnapshot(snapshot => setRooms(snapshot.docs.map(doc => ({\n      id: doc.id,\n      data: doc.data()\n    }))));\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [openM, setOpenM] = React.useState(false);\n\n  const handleOpenM = () => {\n    setOpenM(true);\n  };\n\n  const handleCloseM = () => {\n    setOpenM(false);\n  };\n\n  const [imageProfile, setImageProfile] = useState(null);\n  const [url, setUrl] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(\"\");\n\n  const handleChange = e => {\n    const file = e.target.files[0];\n\n    if (file) {\n      const fileType = file[\"type\"];\n      const validImageTypes = [\"image/gif\", \"image/jpeg\", \"image/jpg\", \"image/png\"];\n\n      if (validImageTypes.includes(fileType)) {\n        setError(\"\");\n        setImageProfile(file);\n      } else {\n        setError(\"Por favor selecciona una imagen\");\n      }\n    }\n  };\n\n  const createChat = () => {\n    db.collection(\"rooms\").doc().set({\n      name: inputR\n    });\n    setInputR(\"\");\n    setOpenM(false);\n  };\n\n  const UpDate = () => {\n    if (imageProfile) {\n      const uploadTaks = storage.ref(email).put(imageProfile);\n      uploadTaks.on(\"state_changed\", snapshot => {\n        const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        setProgress(progress);\n      }, error => {\n        setError(error);\n      }, () => {\n        storage.ref(email).getDownloadURL().then(url => {\n          setUrl(url);\n          setProgress(0);\n        });\n      });\n    } else {\n      setError(\"\");\n    }\n\n    db.collection('profile').doc(email).set({\n      UserName: input\n    });\n    setOpen(false);\n  };\n\n  const [profilePicurl, setProfilePicurl] = useState();\n  storage.ref(email).getDownloadURL().then(profilePicurl => {\n    setProfilePicurl(profilePicurl);\n    setProgress(0);\n  });\n  {}\n  const [myName, setMyName] = useState(\"\");\n  useEffect(() => {\n    db.collection('profile').doc(email).onSnapshot(snapshot => setMyName(snapshot.data().UserName));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      style: {\n        backgroundColor: '#263238',\n        width: '100%',\n        height: '50px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        variant: \"dense\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"inherit\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"logoTxtFlepxii\",\n            children: \"Messenger By React\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: /*#__PURE__*/_jsxDEV(\"h5\", {\n            id: \"tootips\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 53\n          }, this),\n          placement: \"bottom\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            style: {\n              marginLeft: '50px',\n              width: '40px',\n              height: '40px',\n              color: 'white',\n              border: '1px solid white'\n            },\n            onClick: () => {\n              firebase.auth().signOut();\n            },\n            children: /*#__PURE__*/_jsxDEV(ExitToAppIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 49\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        style: {\n          width: '300px',\n          height: '330px',\n          marginTop: '160px',\n          padding: '20px',\n          borderRadius: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              accept: \"image/*\",\n              id: \"contained-button-file\",\n              multiple: true,\n              type: \"file\",\n              onChange: handleChange,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 61\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"contained-button-file\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"edit\",\n                component: \"span\",\n                style: {\n                  width: '90px',\n                  height: '90px',\n                  border: '1px solid grey'\n                },\n                children: /*#__PURE__*/_jsxDEV(AddAPhotoIcon, {\n                  style: {\n                    width: '50px',\n                    height: '50px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 65\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 56\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '10px',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Set your name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \" My name\",\n              value: input,\n              onChange: e => setInput(e.target.value),\n              style: {}\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: UpDate,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: openM,\n      onClose: handleCloseM,\n      \"aria-labelledby\": \"simple-modal-title\",\n      \"aria-describedby\": \"simple-modal-description\",\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        style: {\n          width: '300px',\n          height: '200px',\n          marginTop: '160px',\n          padding: '20px',\n          borderRadius: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '10px',\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontFamily: 'Roboto, sans-serif',\n                fontSize: '20px'\n              },\n              children: \"Set room name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \" Room name\",\n              value: inputR,\n              onChange: e => setInputR(e.target.value),\n              style: {\n                height: '30px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '20px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: createChat,\n              children: \"Create new room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        backgroundColor: '#212121',\n        justifyContent: 'space-between',\n        height: '92.4vh',\n        padding: '0px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 3,\n            style: {\n              width: '300px',\n              height: '550px',\n              padding: '20px',\n              overflow: 'auto',\n              borderRadius: '20px',\n              marginLeft: '10px',\n              backgroundColor: '#212121'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                marginBottom: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  width: '100%'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flexDirection: 'row',\n                    alignItems: 'center',\n                    justifyContent: 'space-around',\n                    width: '100%'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexDirection: 'row',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                      alt: \"Remy Sharp\",\n                      src: profilePicurl,\n                      style: {\n                        boxShadow: '2px 2px 2px rgb(100, 100, 100)',\n                        width: '60px',\n                        height: '60px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 61\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        marginLeft: '20px',\n                        fontFamily: 'Roboto, sans-serif',\n                        color: 'white'\n                      },\n                      children: myName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 61\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      \"aria-label\": \"edit\",\n                      onClick: e => setOpen(true),\n                      style: {\n                        border: '1px solid white'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                        style: {\n                          color: 'white'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 375,\n                        columnNumber: 65\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 61\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 46\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                marginTop: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                style: {\n                  border: ' 1px solid white'\n                },\n                onClick: e => setOpenM(true),\n                children: /*#__PURE__*/_jsxDEV(AddIcon, {\n                  style: {\n                    color: 'white'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '30px'\n              },\n              children: rooms.map(room => /*#__PURE__*/_jsxDEV(Link, {\n                to: `/rooms/${room.id}`,\n                children: /*#__PURE__*/_jsxDEV(SidebarConversations, {\n                  id: room.id,\n                  name: room.data.name\n                }, room.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 53\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 49\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            backgroundColor: 'blue',\n            flexDirection: 'column',\n            alignItems: 'center',\n            marginTop: '0px',\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              backgroundColor: 'blue'\n            },\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              style: {\n                width: '90%',\n                height: '490px',\n                borderRadius: '30px',\n                padding: '20px',\n                overflow: 'auto',\n                marginRight: '10px',\n                backgroundColor: 'transparent'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/rooms/:roomId\",\n                children: /*#__PURE__*/_jsxDEV(CurrentRoom, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 78\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/rooms/:roomId\",\n                children: /*#__PURE__*/_jsxDEV(Conversation, {\n                  profileName: myName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 78\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              style: {\n                marginTop: '20px',\n                width: '700px'\n              },\n              children: /*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/rooms/:roomId\",\n                children: /*#__PURE__*/_jsxDEV(WriteMessage, {\n                  profilePic: profilePicurl,\n                  profileName: myName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 77\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ChatWindow, \"OLmxVI8xrRkLgD+a2XHjrRodbHc=\");\n\n_c = ChatWindow;\nexport default ChatWindow;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/message/src/components/chatWindow.jsx"],"names":["React","Fragment","useState","useEffect","Paper","firebase","db","storage","SidebarConversations","Conversation","WriteMessage","Button","Divider","Avatar","IconButton","Form","ExitToAppIcon","AppBar","Toolbar","Typography","EditIcon","Modal","AddAPhotoIcon","AddIcon","Tooltip","CurrentRoom","BrowserRouter","Router","Route","Link","ChatWindow","user","auth","currentUser","name","email","photo","uid","emailVerified","displayName","photoURL","input","setInput","inputR","setInputR","rooms","setRooms","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","open","setOpen","handleOpen","handleClose","openM","setOpenM","handleOpenM","handleCloseM","imageProfile","setImageProfile","url","setUrl","progress","setProgress","error","setError","handleChange","e","file","target","files","fileType","validImageTypes","includes","createChat","set","UpDate","uploadTaks","ref","put","on","Math","round","bytesTransferred","totalBytes","getDownloadURL","then","UserName","profilePicurl","setProfilePicurl","myName","setMyName","backgroundColor","width","height","marginLeft","color","border","signOut","display","flexDirection","alignItems","marginTop","padding","borderRadius","value","fontFamily","fontSize","justifyContent","overflow","marginBottom","boxShadow","room","marginRight"],"mappings":"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","sourcesContent":["import React, {Fragment , useState, useEffect} from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport firebase from \"firebase\";\r\nimport {db} from '../FirebaseDb.js';\r\nimport {storage} from '../FirebaseDb';\r\nimport SidebarConversations from './sidebarConversations'\r\nimport Conversation from './conversation';\r\nimport WriteMessage from './writeMessage.jsx';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Form from 'react-bootstrap/Form';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport CurrentRoom from './currentRoom.jsx';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n\r\n  } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        const ChatWindow = () =>{\r\n\r\n\r\n                        var user = firebase.auth().currentUser;\r\n                        var name, email, photo, uid, emailVerified;\r\n\r\n                        name = user.displayName;\r\n                        email = user.email;\r\n                        photo = user.photoURL;\r\n                        emailVerified = user.emailVerified;\r\n                        uid = user.uid;\r\n\r\n                     \r\n\r\n\r\n                        const [input, setInput]=useState(\"\");\r\n                        const [inputR, setInputR]=useState(\"\");\r\n                        const [rooms, setRooms]=useState([]);\r\n\r\n                        useEffect(() =>{\r\n\r\n                            const unsubscribe = db.collection('rooms').onSnapshot(snapshot =>(\r\n\r\n                            setRooms(snapshot.docs.map(doc =>\r\n                            ({\r\n\r\n                            id:doc.id,\r\n                            data:doc.data(),\r\n\r\n                            }))\r\n                            )\r\n                            ));\r\n\r\n                                return () =>{\r\n                                    unsubscribe();\r\n                                }\r\n\r\n                    }, [])\r\n\r\n                    const [open, setOpen] = React.useState(false);\r\n\r\n                    const handleOpen = () => {\r\n                      setOpen(true);\r\n                    };\r\n                  \r\n                    const handleClose = () => {\r\n                      setOpen(false);\r\n                    };\r\n\r\n\r\n                    const [openM, setOpenM] = React.useState(false);\r\n\r\n                    const handleOpenM = () => {\r\n                      setOpenM(true);\r\n                    };\r\n                  \r\n                    const handleCloseM = () => {\r\n                      setOpenM(false);\r\n                    };\r\n\r\n\r\n                    \r\n\r\n                    const [imageProfile, setImageProfile]=useState( null);\r\n                    const [url, setUrl]=useState(\"\");\r\n                    const [progress, setProgress]=useState(0);\r\n                    const [error, setError]=useState(\"\")\r\n\r\n                    const handleChange = e =>{\r\n                        const file =e.target.files[0];\r\n                        if (file) {\r\n\r\n                        const fileType = file [\"type\"]\r\n                        const validImageTypes = [\"image/gif\", \"image/jpeg\", \"image/jpg\", \"image/png\"]\r\n                        if (validImageTypes.includes(fileType)) {\r\n\r\n                            setError(\"\");\r\n                            setImageProfile(file);\r\n\r\n                        }else{\r\n                            setError(\"Por favor selecciona una imagen\")\r\n                        }\r\n                        }\r\n                    }\r\n                    \r\n\r\n\r\n\r\n                    const createChat = () =>{\r\n                 \r\n                        db.collection(\"rooms\").doc().set({\r\n                            \r\n                            name: inputR,\r\n                            \r\n                        })\r\n\r\n                        setInputR(\"\")\r\n                        setOpenM(false)\r\n            \r\n                   \r\n                     }; \r\n\r\n\r\n\r\n\r\n\r\n                     const UpDate = () =>{\r\n\r\n                        if (imageProfile){\r\n\r\n                               const uploadTaks= storage.ref(email).put(imageProfile)\r\n                    \r\n                                uploadTaks.on(\r\n                                    \"state_changed\",\r\n                                    snapshot =>{\r\n                    \r\n                                        const progress = Math.round(\r\n                                        (snapshot.bytesTransferred / snapshot.totalBytes)* 100\r\n                                     );\r\n                    \r\n                                     setProgress(progress);\r\n                    \r\n                                     },\r\n                                     error => {\r\n                    \r\n                                     setError(error)\r\n                    \r\n                                     },\r\n                                     () => {\r\n                    \r\n                                    storage\r\n                                    .ref(email)\r\n                                    .getDownloadURL()\r\n                                    .then(url =>{\r\n                                        setUrl(url);\r\n                                        setProgress(0);\r\n                                    });\r\n                                    }\r\n                                    );\r\n\r\n                    \r\n                                    }else{\r\n                                    setError(\"\")\r\n                                    }\r\n\r\n                                    db.collection('profile').doc(email).set({\r\n                                        UserName:input\r\n                                    })\r\n\r\n                                    setOpen(false)\r\n                    \r\n                                }\r\n\r\n                                const [profilePicurl, setProfilePicurl]=useState();\r\n\r\n                                storage.ref(email).getDownloadURL()\r\n                                .then(profilePicurl =>{ setProfilePicurl(profilePicurl); setProgress(0)}); {\r\n            \r\n                                 }\r\n\r\n\r\n                                 const [myName , setMyName] =useState (\"\")\r\n                                 useEffect(() =>{\r\n\r\n                                    db.collection('profile').doc(email).onSnapshot(snapshot=>(\r\n                                        setMyName(snapshot.data().UserName)\r\n                                    ));\r\n                                        \r\n                        \r\n                                    }, [])\r\n\r\n\r\n\r\n    return(\r\n\r\n        <Fragment>\r\n\r\n                    <AppBar position=\"static\" style={{backgroundColor:'#263238', width:'100%', height:'50px'}}>\r\n                            <Toolbar variant=\"dense\">\r\n\r\n                                \r\n\r\n                                    <Typography variant=\"h6\" color=\"inherit\">\r\n                                        <p id=\"logoTxtFlepxii\">Messenger By React</p>\r\n                                    </Typography>\r\n\r\n                                    <Tooltip title={<h5 id=\"tootips\">Logout</h5>} placement=\"bottom\" >\r\n                                        <IconButton style={{marginLeft:'50px', width:'40px', height:'40px', color:'white', border:'1px solid white'}}\r\n                                                    onClick={() =>{firebase.auth().signOut();}} >\r\n\r\n                                                <ExitToAppIcon />\r\n                                        </IconButton>\r\n                                    </Tooltip>\r\n\r\n                               \r\n                            \r\n\r\n                            </Toolbar>\r\n                   </AppBar>\r\n\r\n                   <Modal\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        aria-labelledby=\"simple-modal-title\"\r\n                        aria-describedby=\"simple-modal-description\"\r\n                        style={{display:'flex', flexDirection:'column', alignItems:'center'}}\r\n                    >\r\n\r\n                        <Paper style={{width:'300px', height:'330px', marginTop:'160px', padding:'20px', borderRadius:'20px'}}>\r\n\r\n                            <div style={{display:'flex', flexDirection:'column', alignItems:'center'}}>\r\n\r\n                                    \r\n                                                       <div>\r\n                                                            <input\r\n                                                                accept=\"image/*\"\r\n                                                                id=\"contained-button-file\"\r\n                                                                multiple\r\n                                                                type=\"file\"\r\n                                                                onChange={handleChange}\r\n                                                                style={{display:'none'}}\r\n                                                            />\r\n                                                            <label htmlFor=\"contained-button-file\">\r\n                                                            <IconButton aria-label=\"edit\" component=\"span\" style={{width:'90px', height:'90px', border:'1px solid grey'}}>\r\n                                                                <AddAPhotoIcon style={{width:'50px', height:'50px'}}/>\r\n                                                            </IconButton>\r\n\r\n                                                            </label>\r\n\r\n                                                        </div> \r\n\r\n                                    <div style={{marginTop:'10px', display:'flex', flexDirection:'column', alignItems:'center'}}>\r\n\r\n                                        <p>Set your name</p>\r\n\r\n                                        <Form.Control  type=\"text\" placeholder=\" My name\"\r\n                                        value={input} onChange={e=>setInput(e.target.value)} style={{}} />\r\n\r\n                                    </div>\r\n\r\n                                    <div style={{marginTop:'20px'}}>\r\n                                        <Button variant=\"contained\" color=\"primary\" onClick={UpDate}>Save</Button>\r\n                                    </div>\r\n\r\n                            </div>\r\n\r\n                        \r\n\r\n                        </Paper>\r\n                        \r\n                    </Modal>\r\n                    \r\n\r\n\r\n                    <Modal\r\n                        open={openM}\r\n                        onClose={handleCloseM}\r\n                        aria-labelledby=\"simple-modal-title\"\r\n                        aria-describedby=\"simple-modal-description\"\r\n                        style={{display:'flex', flexDirection:'column', alignItems:'center'}}\r\n                    >\r\n\r\n                        <Paper style={{width:'300px', height:'200px', marginTop:'160px', padding:'20px', borderRadius:'20px'}}>\r\n\r\n                            <div style={{display:'flex', flexDirection:'column', alignItems:'center'}}>\r\n\r\n                                    \r\n\r\n                                    <div style={{marginTop:'10px', display:'flex', flexDirection:'column', alignItems:'center'}}>\r\n\r\n                                        <p style={{fontFamily:'Roboto, sans-serif', fontSize:'20px'}}>Set room name</p>\r\n\r\n                                        <Form.Control  type=\"text\" placeholder=\" Room name\"\r\n                                        value={inputR} onChange={e=>setInputR(e.target.value)} style={{height:'30px'}} />\r\n\r\n                                    </div>\r\n\r\n                                    <div style={{marginTop:'20px'}}>\r\n                                        <Button variant=\"contained\" color=\"primary\" onClick={createChat}>Create new room</Button>\r\n                                    </div>\r\n\r\n                            </div>\r\n\r\n                        \r\n\r\n                        </Paper>\r\n                        \r\n                    </Modal>\r\n\r\n            <div style={{display:'flex', \r\n                        flexDirection:'row', \r\n                        alignItems:'center', \r\n                        backgroundColor:'#212121', \r\n                        justifyContent:'space-between',\r\n                        height:'92.4vh',\r\n                        padding:'0px'\r\n                        }}>\r\n\r\n            <Router>\r\n\r\n                \r\n\r\n                \r\n                    <div className=\"container\">\r\n\r\n                        <Paper elevation={3}  style={{width:'300px',\r\n                                                     height:'550px', \r\n                                                     padding:'20px',\r\n                                                     overflow:'auto', \r\n                                                     borderRadius:'20px', \r\n                                                     marginLeft:'10px',\r\n                                                     backgroundColor:'#212121',\r\n                                                     \r\n                                                     }}>\r\n\r\n                            <div style={{display:'flex', flexDirection:'column', alignItems:'center', marginBottom:'20px'}}>\r\n\r\n                                        <div style={{display:'flex', flexDirection:'column', alignItems:'center', width:'100%'}}>\r\n\r\n                                             <div style={{display:'flex', flexDirection:'row',alignItems:'center', justifyContent:'space-around', width:'100%'}}>\r\n                                             \r\n                                                    <div style={{display:'flex', flexDirection:'row', alignItems:'center'}}>\r\n                                                    \r\n                                                            <Avatar alt=\"Remy Sharp\" src={profilePicurl}\r\n                                                            style={{boxShadow:'2px 2px 2px rgb(100, 100, 100)', \r\n                                                            width:'60px', height:'60px'}} \r\n                                                            />\r\n\r\n                                                            <p style={{marginLeft:'20px', fontFamily:'Roboto, sans-serif', color:'white'}}>{myName}</p>\r\n\r\n                                                    </div>\r\n\r\n\r\n                                                    <div>\r\n\r\n                                                            <IconButton aria-label=\"edit\" onClick={(e)=>setOpen(true)}\r\n                                                            style={{border:'1px solid white'}}>\r\n                                                                <EditIcon style={{color:'white'}} />\r\n                                                            </IconButton>\r\n\r\n                                                    </div>\r\n\r\n                                            </div>\r\n                                            \r\n                                        </div>\r\n\r\n                             </div>\r\n\r\n                             <Divider/>\r\n\r\n                                    <div style={{display:'flex', flexDirection:'column', alignItems:'center', marginTop:'20px'}}>\r\n                                        <IconButton style={{border:' 1px solid white'}} onClick={(e)=>setOpenM(true)}>\r\n                                        <AddIcon style={{color:'white'}}/>\r\n                                        </IconButton>\r\n                                    </div>\r\n\r\n                                    \r\n\r\n                                    <div style={{marginTop:'30px'}}>\r\n\r\n                                     \r\n                                        {rooms.map(room =>(\r\n                                            \r\n                                                <Link to={`/rooms/${room.id}`}>\r\n\r\n                                            \r\n\r\n                                                    <SidebarConversations key={room.id} id={room.id} name={room.data.name}/>\r\n\r\n\r\n                    \r\n                                                \r\n                                                </Link>\r\n                                            \r\n                                        ))}\r\n\r\n                                    \r\n\r\n\r\n                                    </div>\r\n\r\n                        </Paper>\r\n\r\n                    </div>\r\n                \r\n\r\n\r\n                    <div style={{display:'flex', backgroundColor:'blue', flexDirection:'column', alignItems:'center', marginTop:'0px', width:'100%'}} >\r\n\r\n                           <div style={{width:'100%', backgroundColor:'blue'}}>\r\n                            <Paper style={{width:'90%', \r\n                                          height:'490px', \r\n                                          borderRadius:'30px', \r\n                                          padding:'20px', \r\n                                          overflow:'auto',\r\n                                          marginRight:'10px',\r\n                                          backgroundColor:'transparent'\r\n                                          \r\n                                          }}>\r\n\r\n                                <Route exact path=\"/rooms/:roomId\" children={<CurrentRoom/> }/>\r\n                                <Route exact path=\"/rooms/:roomId\" children={<Conversation profileName={myName}/> }/>\r\n                               \r\n                            </Paper>\r\n                           </div>\r\n\r\n                           <div >\r\n                               <Paper style={{marginTop:'20px', width:'700px'}}>\r\n                               <Route exact path=\"/rooms/:roomId\" children={<WriteMessage profilePic={profilePicurl} profileName={myName}/>}/>\r\n                               </Paper>\r\n                           </div>\r\n\r\n                    </div>\r\n\r\n               \r\n\r\n               </Router>  \r\n\r\n            </div>\r\n\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n\r\nexport default ChatWindow;"]},"metadata":{},"sourceType":"module"}