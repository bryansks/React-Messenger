{"ast":null,"code":"import _slicedToArray from\"C:/Users/Usuario/Desktop/message/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import Avatar from'@material-ui/core/Avatar';import{db}from'../FirebaseDb.js';import firebase from\"firebase\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Conversation=function Conversation(props){var user=firebase.auth().currentUser;var name,email,photo,uid,emailVerified;name=user.displayName;email=user.email;photo=user.photoURL;emailVerified=user.emailVerified;uid=user.uid;var _useParams=useParams(),roomId=_useParams.roomId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),roomName=_useState4[0],setRoomName=_useState4[1];useEffect(function(){if(roomId!==\"\"){db.collection('rooms').doc(roomId).onSnapshot(function(snapshot){return setRoomName(snapshot.data().name);});db.collection(\"rooms\").doc(roomId).collection(\"message\").orderBy(\"timestamp\",\"asc\").onSnapshot(function(snapshot){return setMessage(snapshot.docs.map(function(doc){return doc.data();}));});}},[roomId]);return/*#__PURE__*/_jsx(Fragment,{children:message.map(function(message){return/*#__PURE__*/_jsxs(\"div\",{className:\"messageConvesacion \".concat(message.userId===email&&\"messageConvesacion_R\"),id:\"ctnConversacion\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{style:{marginRight:'10px',fontFamily:'Roboto, sans-serif'},children:message.name})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Avatar,{alt:\"User Pic\",src:message.myPic,style:{width:'40px',height:'40px',marginBottom:'10px',boxShadow:'2px 2px 2px rgb(100, 100, 100)'}})})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%'},children:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'left',fontFamily:'Roboto, sans-serif'},children:message.message})})]});})});};export default Conversation;","map":{"version":3,"sources":["C:/Users/Usuario/Desktop/message/src/components/conversation.jsx"],"names":["React","Fragment","useState","useEffect","Avatar","db","firebase","useParams","Conversation","props","user","auth","currentUser","name","email","photo","uid","emailVerified","displayName","photoURL","roomId","message","setMessage","roomName","setRoomName","collection","doc","onSnapshot","snapshot","data","orderBy","docs","map","userId","display","flexDirection","alignItems","marginRight","fontFamily","myPic","width","height","marginBottom","boxShadow","textAlign"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport {db} from '../FirebaseDb.js';\r\nimport firebase from \"firebase\";\r\nimport {useParams} from \"react-router-dom\"\r\n\r\n\r\nconst Conversation = (props) =>{\r\n\r\n\r\n                            var user = firebase.auth().currentUser;\r\n                            var name, email, photo, uid, emailVerified;\r\n\r\n                            name = user.displayName;\r\n                            email = user.email;\r\n                            photo = user.photoURL;\r\n                            emailVerified = user.emailVerified;\r\n                            uid = user.uid;\r\n\r\n    \r\n\r\n                            const {roomId} =useParams();\r\n                            \r\n                            const [message, setMessage]=useState([]);\r\n\r\n\r\n     \r\n\r\n\r\n                         const [roomName, setRoomName]=useState(\"\");\r\n\r\n                        useEffect(() =>{\r\n                            if (roomId!==\"\") {\r\n                                db.collection('rooms').doc(roomId).onSnapshot(snapshot=>(\r\n                                    setRoomName(snapshot.data().name)\r\n                                ));\r\n                                db.collection(\"rooms\")\r\n                                .doc(roomId)\r\n                                .collection(\"message\")\r\n                                .orderBy(\"timestamp\",\"asc\")\r\n                                .onSnapshot((snapshot)=>\r\n                                setMessage(snapshot.docs.map((doc)=>\r\n                                doc.data()))\r\n                                );\r\n                            }\r\n                        },[roomId])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n\r\n        <Fragment>\r\n\r\n            \r\n\r\n            {message.map(message =>(\r\n                \r\n                 <div  className={`messageConvesacion ${message.userId===email && \"messageConvesacion_R\"}`} id=\"ctnConversacion\" >\r\n             \r\n                    <div style={{display:'flex', flexDirection:'row', alignItems:'center'}} >\r\n\r\n                             <div>\r\n                                  <p style={{marginRight:'10px', fontFamily:'Roboto, sans-serif'}}>{message.name}</p>\r\n                             </div>\r\n\r\n                              <div>\r\n\r\n                                  <Avatar alt=\"User Pic\" src={message.myPic} style={{width:'40px', height:'40px',marginBottom:'10px',boxShadow:'2px 2px 2px rgb(100, 100, 100)'}}/>\r\n                            \r\n                             </div>\r\n                    </div>\r\n\r\n                         <div style={{ width:'100%'}}>\r\n\r\n                            <p style={{textAlign:'left',fontFamily:'Roboto, sans-serif'}}>{message.message}</p>\r\n\r\n                        </div>\r\n\r\n\r\n                 </div>\r\n            ))}\r\n\r\n           \r\n\r\n            \r\n        </Fragment>\r\n        \r\n\r\n    );\r\n}\r\n\r\nexport default Conversation;"]},"metadata":{},"sourceType":"module"}